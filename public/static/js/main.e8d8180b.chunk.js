(this["webpackJsonpmern-poll"]=this["webpackJsonpmern-poll"]||[]).push([[0],{42:function(e,t,a){},76:function(e,t,a){e.exports=a(88)},81:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(9),c=a.n(l),r=(a(81),a(42),a(51)),i=a(22),m=a(127),p=a(131),s=a(119),u=a(123),d=a(125),f=a(126),h=a(63),E=a.n(h);var v=function(){var e=o.a.useState(["Sample"]),t=Object(i.a)(e,2),a=t[0],n=t[1],l=o.a.useState("Question?"),c=Object(i.a)(l,2),h=c[0],v=c[1],g=function(e){return function(t){var o=Object(r.a)(a);o[e]=t.target.value,n(o)}};return o.a.createElement("div",{className:"App"},o.a.createElement(s.a,{component:"fieldset"},o.a.createElement(u.a,{component:"legend"},o.a.createElement(p.a,{id:"prompt",label:h,onChange:function(e){v(e.target.value)}})),o.a.createElement(d.a,{"aria-label":"choices",name:"choices"},o.a.createElement("div",{style:{padding:20}},a.map((function(e,t){return o.a.createElement(f.a,{container:!0,key:"container-"+t,spacing:1,alignItems:"flex-end"},o.a.createElement(f.a,{item:!0,key:"grid-icon-"+t},o.a.createElement(E.a,{key:"icon-"+t})),o.a.createElement(f.a,{item:!0,key:"grid-text-field-"+t},o.a.createElement(p.a,{id:"text-field-"+t,key:"text-field-"+t,label:e,onChange:g(t)})))}))),o.a.createElement(f.a,{container:!0,spacing:1,alignItems:"flex-end"},o.a.createElement(f.a,{item:!0},o.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(e){var t=Object(r.a)(a);t.push("Sample"),n(t)}},"Add")),o.a.createElement(f.a,{item:!0},o.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(e){var t=Object(r.a)(a);t.pop(),n(t)}},"Remove")),o.a.createElement(f.a,{item:!0},o.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(e){fetch("https://mern-poll.herokuapp.com/polls",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({prompt:h,options:a})}).then((function(e){return e.json()})).then((function(e){console.log("Request succeeded with JSON response",e)})).catch((function(e){console.log("Request failed",e)}))}},"Save"))))))},g=a(132),y=a(133),b=a(128),S=a(10);var k=function(){var e=Object(S.f)().pollId,t=o.a.useState("Sample"),a=Object(i.a)(t,2),n=a[0],l=a[1],c=o.a.useState({id:"default",prompt:"Question?",options:["Sample"]}),r=Object(i.a)(c,2),p=r[0],d=r[1];return o.a.useEffect((function(){!function(e){console.log("PollID: ",e),fetch("https://mern-poll.herokuapp.com/polls/".concat(e),{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Request succeeded with JSON response Poll",e);var t={id:e.id,prompt:e.prompt,options:e.options};d(t),l(t.options[0])})).catch((function(e){console.log("Request failed",e)}))}(e)}),[e]),o.a.createElement("div",{className:"App"},o.a.createElement(s.a,{component:"fieldset"},o.a.createElement(u.a,{component:"legend"},p.prompt),o.a.createElement(y.a,{"aria-label":"prompt",name:"prompt",value:n,onChange:function(e){l(e.target.value)}},p.options.map((function(e,t){return o.a.createElement(b.a,{key:"option-"+t,value:e,control:o.a.createElement(g.a,null),label:e})})),o.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(t){fetch("https://mern-poll.herokuapp.com/pollResults",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({pollId:e,response:n})}).then((function(e){return e.json()})).then((function(e){console.log("Request succeeded with JSON response",e)})).catch((function(e){console.log("Request failed",e)}))}},"Save"))))},j=a(124),O=a(129),w=a(130),C=a(21);var R=function(){var e=Object(S.g)(),t=o.a.useState(!1),a=Object(i.a)(t,2),n=a[0],l=a[1],c=o.a.useState(["Sample"]),r=Object(i.a)(c,2),m=r[0],p=r[1],s=function(e){l(!0)};return o.a.useEffect((function(){fetch("https://mern-poll.herokuapp.com/polls?limit=100",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Request succeeded with JSON response",e);var t=e.filter((function(e){return"prompt"in e&&"options"in e&&e.options.length>0}));p(t)})).catch((function(e){console.log("Request failed",e)}))}),[]),o.a.createElement(C.a,null,o.a.createElement("div",{className:"App"},!n&&o.a.createElement(j.a,{component:"nav","aria-label":"polls"},m.map((function(t,a){return o.a.createElement(C.b,{to:"".concat(e.url,"/view/").concat(t.id)},o.a.createElement(O.a,{key:"item:"+a,button:!0,onClick:s},o.a.createElement(w.a,{key:"label:"+a,primary:t.prompt})))}))),o.a.createElement(S.c,null,o.a.createElement(S.a,{path:"".concat(e.url,"/view/:pollId")},o.a.createElement(k,null)))))},x=a(64),N=a.n(x),q=a(65),I=a.n(q),J=a(66),A=a.n(J);var P=function(){return o.a.createElement(C.a,null,o.a.createElement("div",{style:{padding:20}},o.a.createElement(m.a,{variant:"contained",color:"primary",style:{margin:"10px"}},o.a.createElement(C.b,{to:"/create",style:{color:"white"}},o.a.createElement(N.a,null))),o.a.createElement(m.a,{variant:"contained",color:"primary",style:{margin:"10px"}},o.a.createElement(C.b,{to:"/list",style:{color:"white"}},o.a.createElement(I.a,null))),o.a.createElement(m.a,{variant:"contained",color:"primary",style:{margin:"10px"}},o.a.createElement(C.b,{to:"/results",style:{color:"white"}},o.a.createElement(A.a,null))),o.a.createElement(S.c,null,o.a.createElement(S.a,{path:"/create"},o.a.createElement(v,null)),o.a.createElement(S.a,{path:"/list"},o.a.createElement(R,null)),o.a.createElement(S.a,{path:"/view/:pollId"},o.a.createElement(k,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[76,1,2]]]);
//# sourceMappingURL=main.e8d8180b.chunk.js.map